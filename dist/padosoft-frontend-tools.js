!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("luxon")):"function"==typeof define&&define.amd?define(["luxon"],e):"object"==typeof exports?exports.padosoftFrontendTools=e(require("luxon")):t.padosoftFrontendTools=e(t.luxon)}(self,(function(t){return(()=>{"use strict";var e={475:e=>{e.exports=t}},n={};function o(t){if(n[t])return n[t].exports;var r=n[t]={exports:{}};return e[t](r,r.exports,o),r.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{function t(t,e){const n=Math.pow(10,e);return Math.round((t+1e-5)*n)/n}function e(e,n){return t(e*(100+n)/100,5)}function n(t,e){return t*(e/100)}function a(t,e,n){const o=t-(e+n);return 0!==o&&(e+=o),{totale:t,imponibile:e,imposta:n}}function i(t,e,n){const o=t-(e+n);return 0!==o&&(n+=o),{totale:t,imponibile:e,imposta:n}}function l(t){return t&&t.length>0?t:null}function c(t,e=null,n=null){const o=t&&t.length>0?t[0]:n;return null!==o&&null!==e?o[e]:o}function u(t,e){return`<option value="${t}">${e}</option>`}function s(t){const e=$(t);e.length>0&&e.flatpickr({enableTime:!0,altInput:!0,altFormat:"d/m/Y H:i:ss",dateFormat:"Y-m-d H:i:ss",time_24hr:!0,allowInput:!0,onReady:function(t,e,n){$('<div class="flatpickr-clear"><span class="badge-pill badge-primary">Clear</span></div>').on("click",(()=>{n.clear(),n.close()})).appendTo($(n.calendarContainer))}})}function d(t){const e=$(t);e.length>0&&e.flatpickr({altInput:!0,altFormat:"d/m/Y",dateFormat:"Y-m-d",allowInput:!0,onReady:function(t,e,n){$('<div class="flatpickr-clear"><span class="badge-pill badge-primary">Clear</span></div>').on("click",(()=>{n.clear(),n.close()})).appendTo($(n.calendarContainer))}})}function m(t){let e=$(t);console.log("initSelectAjax",e),e.length<1||e.each((function(){console.log("initSelectAjax inner",this);var t=$(this).attr("data-placeholder"),e=$(this).attr("data-ajax_url"),n=$(this).attr("data-templateResult"),o=$(this).attr("data-templateSelection"),r=parseInt($(this).attr("data-delay"));(isNaN(r)||r<=0)&&(r=250);var a=parseInt($(this).attr("data-minimumInputLength"));(isNaN(a)||a<0)&&(a=0);var i=$(this);$(this).select2({ajax:{url:e,dataType:"json",delay:r,data:function(t){return{search:t.term,page:t.page}},processResults:function(t,e){return e.page=e.page||1,{results:t.data,pagination:{more:e.page*t.per_page<t.total}}},cache:!0},escapeMarkup:function(t){return t},minimumInputLength:a,templateResult:function(t){return null!=n&&""!=n&&n in window?window[n](t):t.loading?t.text:"<div class='row'><div class='col-md-12'>"+t.descr+"</div></div>"},templateSelection:function(e){return null!=o&&""!=o&&o in window?window[o](e):e.descr?e.descr:i.children("option:selected").length>0?i.children("option:selected").text():null!=o?t:""}})}))}function p(t){const e=$(t);e.length>0&&e.flatpickr({enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,allowInput:!0,onReady:function(t,e,n){$('<div class="flatpickr-clear"><span class="badge-pill badge-primary">Clear</span></div>').on("click",(()=>{n.clear(),n.close()})).appendTo($(n.calendarContainer))}})}function f(e,n){return t(100*e/(100+n),2)}function y(e,n){return e-t(100*e/(100+n),2)}function I(t,e){let n=f(t,e),o=y(t,e);const{totale:r,imponibile:i,imposta:l}=a(t,n,o);return i}function g(t){return isNaN(t)?0:t}o.r(r),o.d(r,{calcolaImportoConIva:()=>e,calcoloIvaDaImponibile:()=>n,checkAndCorrectImportiModImponibile:()=>a,checkAndCorrectImportiModImposta:()=>i,dateISO2ITA:()=>M,dateITA2ISO:()=>v,dateTimeDbISO2ITA:()=>x,dateTimeISO2ITA:()=>F,dateTimeITA2ISO:()=>S,getDataFromSelect2Multiple:()=>l,getDataFromSelect2Single:()=>c,getListForSelectAjax:()=>u,initDateTimePicker:()=>s,initDatepicker:()=>d,initSelectAjax:()=>m,initTimePicker:()=>p,isISODate:()=>D,isITADate:()=>w,nowDateTime:()=>b,nowDbIsoDateTime:()=>T,roundWithDecimal:()=>t,scorporoIvaImponibileConCorrezione:()=>I,scorporoIvaParteImponibile:()=>f,scorporoIvaParteImposta:()=>y,toEuroFormatted:()=>O,zeroOrValue:()=>g});var h=o(475);function T(){return h.DateTime.now().toFormat("yyyy-MM-dd HH:mm:ss")}function b(){return h.DateTime.now()}function v(t){return h.DateTime.fromFormat(t,"dd/MM/yyyy").toFormat("yyyy-MM-dd")}function M(t){return h.DateTime.fromISO(t).toFormat("dd/MM/yyyy")}function x(t){return h.DateTime.fromFormat(t,"yyyy-MM-dd HH:mm:ss").toFormat("dd/MM/yyyy HH:mm:ss")}function S(t){return h.DateTime.fromFormat(t,"dd/MM/yyyy HH:mm:ss").toFormat("yyyy-MM-dd HH:mm:ss")}function F(t){return h.DateTime.fromISO(t).toFormat("dd/MM/yyyy HH:mm:ss")}function w(t){return t.indexOf("/")>=0}function D(t){return t.indexOf("-")>=0}function O(e){return e=t(e,2),new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)}})(),r})()}));