!function(o,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("luxon"),require("axios")):"function"==typeof define&&define.amd?define(["luxon","axios"],r):"object"==typeof exports?exports.padosoftFrontendTools=r(require("luxon"),require("axios")):o.padosoftFrontendTools=r(o.luxon,o.axios)}(self,(function(o,r){return(()=>{"use strict";var e={375:o=>{o.exports=r},475:r=>{r.exports=o}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return n.d(r,{a:r}),r},n.d=(o,r)=>{for(var e in r)n.o(r,e)&&!n.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:r[e]})},n.o=(o,r)=>Object.prototype.hasOwnProperty.call(o,r),n.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var a={};return(()=>{function o(o,r){const e=Math.pow(10,r);return Math.round((o+1e-5)*e)/e}function r(r,e){return o(r*(100+e)/100,5)}function e(o,r){return o*(r/100)}function t(o,r,e){const t=o-(r+e);return 0!==t&&(r+=t),{totale:o,imponibile:r,imposta:e}}function i(o,r,e){const t=o-(r+e);return 0!==t&&(e+=t),{totale:o,imponibile:r,imposta:e}}function s(o){return o&&o.length>0?o:null}function c(o,r=null,e=null){const t=o&&o.length>0?o[0]:e;return null!==t&&null!==r?t[r]:t}function l(o,r){return`<option value="${o}">${r}</option>`}function u(o){const r=$(o);r.length>0&&r.flatpickr({enableTime:!0,altInput:!0,altFormat:"d/m/Y H:i:ss",dateFormat:"Y-m-d H:i:ss",time_24hr:!0,allowInput:!0,onReady:function(o,r,e){$('<div class="flatpickr-clear"><span class="badge-pill badge-primary">Clear</span></div>').on("click",(()=>{e.clear(),e.close()})).appendTo($(e.calendarContainer))}})}function p(o){const r=$(o);r.length>0&&r.flatpickr({altInput:!0,altFormat:"d/m/Y",dateFormat:"Y-m-d",allowInput:!0,onReady:function(o,r,e){$('<div class="flatpickr-clear"><span class="badge-pill badge-primary">Clear</span></div>').on("click",(()=>{e.clear(),e.close()})).appendTo($(e.calendarContainer))}})}function d(o){let r=$(o);console.log("initSelectAjax",r),r.length<1||r.each((function(){console.log("initSelectAjax inner",this);var o=$(this).attr("data-placeholder"),r=$(this).attr("data-ajax_url"),e=$(this).attr("data-templateResult"),t=$(this).attr("data-templateSelection"),n=parseInt($(this).attr("data-delay"));(isNaN(n)||n<=0)&&(n=250);var a=parseInt($(this).attr("data-minimumInputLength"));(isNaN(a)||a<0)&&(a=0);var i=$(this);$(this).select2({ajax:{url:r,dataType:"json",delay:n,data:function(o){return{search:o.term,page:o.page}},processResults:function(o,r){return r.page=r.page||1,{results:o.data,pagination:{more:r.page*o.per_page<o.total}}},cache:!0},escapeMarkup:function(o){return o},minimumInputLength:a,templateResult:function(o){return null!=e&&""!=e&&e in window?window[e](o):o.loading?o.text:"<div class='row'><div class='col-md-12'>"+o.descr+"</div></div>"},templateSelection:function(r){return null!=t&&""!=t&&t in window?window[t](r):r.descr?r.descr:i.children("option:selected").length>0?i.children("option:selected").text():null!=t?o:""}})}))}function f(o){const r=$(o);r.length>0&&r.flatpickr({enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,allowInput:!0,onReady:function(o,r,e){$('<div class="flatpickr-clear"><span class="badge-pill badge-primary">Clear</span></div>').on("click",(()=>{e.clear(),e.close()})).appendTo($(e.calendarContainer))}})}function g(r,e){return o(100*r/(100+e),2)}function m(r,e){return r-o(100*r/(100+e),2)}function b(o,r){let e=g(o,r),n=m(o,r);const{totale:a,imponibile:i,imposta:s}=t(o,e,n);return i}function y(o){return isNaN(o)?0:o}n.r(a),n.d(a,{axiosDelete:()=>j,axiosGet:()=>C,axiosPatch:()=>D,axiosPost:()=>F,axiosPut:()=>L,calcolaImportoConIva:()=>r,calcoloIvaDaImponibile:()=>e,checkAndCorrectImportiModImponibile:()=>t,checkAndCorrectImportiModImposta:()=>i,dateISO2ITA:()=>v,dateITA2ISO:()=>O,dateTimeDbISO2ITA:()=>k,dateTimeISO2ITA:()=>S,dateTimeITA2ISO:()=>x,getDataFromSelect2Multiple:()=>s,getDataFromSelect2Single:()=>c,getListForSelectAjax:()=>l,initDateTimePicker:()=>u,initDatepicker:()=>p,initSelectAjax:()=>d,initTimePicker:()=>f,isISODate:()=>U,isITADate:()=>T,nowDateTime:()=>I,nowDbIsoDateTime:()=>w,roundWithDecimal:()=>o,scorporoIvaImponibileConCorrezione:()=>b,scorporoIvaParteImponibile:()=>g,scorporoIvaParteImposta:()=>m,toEuroFormatted:()=>E,zeroOrValue:()=>y});var h=n(475);function w(){return h.DateTime.now().toFormat("yyyy-MM-dd HH:mm:ss")}function I(){return h.DateTime.now()}function O(o){return h.DateTime.fromFormat(o,"dd/MM/yyyy").toFormat("yyyy-MM-dd")}function v(o){return h.DateTime.fromISO(o).toFormat("dd/MM/yyyy")}function k(o){return h.DateTime.fromFormat(o,"yyyy-MM-dd HH:mm:ss").toFormat("dd/MM/yyyy HH:mm:ss")}function x(o){return h.DateTime.fromFormat(o,"dd/MM/yyyy HH:mm:ss").toFormat("yyyy-MM-dd HH:mm:ss")}function S(o){return h.DateTime.fromISO(o).toFormat("dd/MM/yyyy HH:mm:ss")}function T(o){return o.indexOf("/")>=0}function U(o){return o.indexOf("-")>=0}function E(r){return r=o(r,2),new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(r)}var P=n(375),M=n.n(P);function C(o){const r=Object.assign({blockUI:!1,unBlockUI:!1,logOnError:!1,logOnSuccess:!1,axiosConfig:{}},o);if(!r.hasOwnProperty("url")||void 0===r.url)throw new Error("La proprietà 'url' è obbligatoria.");if(!r.hasOwnProperty("success")||void 0===r.success||"function"!=typeof r.success)throw new Error("La proprietà 'success' è obbligatoria e deve essere una funzione.");if(!r.hasOwnProperty("error")||void 0===r.error||"function"!=typeof r.error)throw new Error("La proprietà 'error' è obbligatoria e deve essere una funzione.");r.blockUI&&blockUI(),M().get(r.url,r.axiosConfig).then((o=>{r.logOnSuccess&&console.log("success",o),r.success(o)})).catch((o=>{r.logOnError&&console.log("error",o),r.error(o)})).finally((()=>{r.unBlockUI&&unblockUI()}))}function F(o){const r=Object.assign({blockUI:!1,unBlockUI:!1,logOnError:!1,logOnSuccess:!1,axiosConfig:{}},o);if(!r.hasOwnProperty("url")||void 0===r.url)throw new Error("La proprietà 'url' è obbligatoria.");if(!r.hasOwnProperty("data")||void 0===r.data)throw new Error("La proprietà 'data' è obbligatoria.");if(!r.hasOwnProperty("success")||void 0===r.success)throw new Error("La proprietà 'success' è obbligatoria e deve essere una funzione.");if(!r.hasOwnProperty("error")||void 0===r.error)throw new Error("La proprietà 'error' è obbligatoria e deve essere una funzione.");r.blockUI&&blockUI(),M().post(r.url,r.data,r.axiosConfig).then((o=>{r.logOnSuccess&&console.log("success",o),r.success(o)})).catch((o=>{r.logOnError&&console.log("error",o),r.error(o)})).finally((()=>{r.unBlockUI&&unblockUI()}))}function L(o){const r=Object.assign({blockUI:!1,unBlockUI:!1,logOnError:!1,logOnSuccess:!1,axiosConfig:{}},o);if(!r.hasOwnProperty("url")||void 0===r.url)throw new Error("La proprietà 'url' è obbligatoria.");if(!r.hasOwnProperty("data")||void 0===r.data)throw new Error("La proprietà 'data' è obbligatoria.");if(!r.hasOwnProperty("success")||void 0===r.success)throw new Error("La proprietà 'success' è obbligatoria e deve essere una funzione.");if(!r.hasOwnProperty("error")||void 0===r.error)throw new Error("La proprietà 'error' è obbligatoria e deve essere una funzione.");r.blockUI&&blockUI(),M().put(r.url,r.data,r.axiosConfig).then((o=>{r.logOnSuccess&&console.log("success",o),r.success(o)})).catch((o=>{r.logOnError&&console.log("error",o),r.error(o)})).finally((()=>{r.unBlockUI&&unblockUI()}))}function D(o){const r=Object.assign({blockUI:!1,unBlockUI:!1,logOnError:!1,logOnSuccess:!1,axiosConfig:{}},o);if(!r.hasOwnProperty("url")||void 0===r.url)throw new Error("La proprietà 'url' è obbligatoria.");if(!r.hasOwnProperty("data")||void 0===r.data)throw new Error("La proprietà 'data' è obbligatoria.");if(!r.hasOwnProperty("success")||void 0===r.success)throw new Error("La proprietà 'success' è obbligatoria e deve essere una funzione.");if(!r.hasOwnProperty("error")||void 0===r.error)throw new Error("La proprietà 'error' è obbligatoria e deve essere una funzione.");r.blockUI&&blockUI(),M().patch(r.url,r.data,r.axiosConfig).then((o=>{r.logOnSuccess&&console.log("success",o),r.success(o)})).catch((o=>{r.logOnError&&console.log("error",o),r.error(o)})).finally((()=>{r.unBlockUI&&unblockUI()}))}function j(o){const r=Object.assign({blockUI:!1,unBlockUI:!1,logOnError:!1,logOnSuccess:!1,axiosConfig:{}},o);if(!r.hasOwnProperty("url")||void 0===r.url)throw new Error("La proprietà 'url' è obbligatoria.");if(!r.hasOwnProperty("success")||void 0===r.success||"function"!=typeof r.success)throw new Error("La proprietà 'success' è obbligatoria e deve essere una funzione.");if(!r.hasOwnProperty("error")||void 0===r.error||"function"!=typeof r.error)throw new Error("La proprietà 'error' è obbligatoria e deve essere una funzione.");r.blockUI&&blockUI(),M().delete(r.url,r.axiosConfig).then((o=>{r.logOnSuccess&&console.log("success",o),r.success(o)})).catch((o=>{r.logOnError&&console.log("error",o),r.error(o)})).finally((()=>{r.unBlockUI&&unblockUI()}))}})(),a})()}));